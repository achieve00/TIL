# 2025-04-08 TIL

## 1. 코딩테스트
- 플랫폼: 프로그래머스
- 문제: 호텔 대실
- LV: 2
- 코드: [링크](https://github.com/achieve00/CodingTest/blob/main/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/LV2/%ED%98%B8%ED%85%94%20%EB%8C%80%EC%8B%A4.py)
- 아이디어:
    - 예약 시간을 분 단위로 변환하여 시작 시간 기준으로 정렬
    - 각 예약의 종료 시간을 따로 저장하고, 예약 시작 시간보다 이전에 끝난 예약은 제거하여 방의 재사용을 판단
    - 방을 수동으로 리스트로 관리하는 방식(내 풀이)과, 종료 시간을 min-heap에 넣고 관리하는 방식(heap 풀이) 두 가지를 비교
    - 내 풀이:
        - 종료된 예약을 `booking` 리스트에서 매번 `filter`로 제거하면서 현재 예약을 추가함
        - 예약의 시작 시간이 이전 예약들의 종료 시간보다 빠른 경우 새로운 방이 필요하다고 판단
        - 구조를 단순하게 유지하면서도 문제는 해결되지만, 리스트에서 매번 순회를 하기 때문에 최악의 경우 **O(n²)** 시간복잡도가 발생할 수 있음
    - Heap 사용:
        - `heapq` 모듈을 사용해 현재 방 중 가장 빨리 끝나는 시간을 추적
        - 현재 예약 시작 시간이 heap의 최솟값보다 크거나 같으면 해당 방을 pop(재사용), 아니라면 새로운 방을 heap에 추가
        - 방 배정을 효율적으로 처리할 수 있으며, 전체 시간복잡도는 **O(n log n)**
- issue:
    - 초기 코드에서 `booking.pop(0)`과 `ends[0]`만 비교하는 방식은 정확하지 않았음
        - 동시에 여러 예약이 끝날 수 있는데 이를 고려하지 않고 첫 번째 예약만 검사했기 때문
    - 리스트 기반 방식은 직관적이지만 효율성 측면에서 한계 있음
    - heap 방식이 더 확장성과 성능 모두 우수
    - heap을 활용하는 방법을 생각해볼 수 있는 기회